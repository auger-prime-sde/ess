{
  "macros": {
    "uubinit_cmds": [
      "tftp -g -r uubprog_03.tgz -l uubprog.tgz 192.168.31.254",
      "tar zxf uubprog.tgz",
      "source ./run.sh" ],
    "meas_ramp_params": [{
      "offset": -90,
      "db": true }],
    "meas_noise_params": [{
      "offset": -90,
      "db": true,
      "log_timeout": 20,
      "count": 100 }],
    "meas_pulse_params": [{
      "offset": -90,
      "db": true,
      "voltages": [ 0.1, 0.2, 0.4, 0.8, 1.6 ],
      "splitmodes": [ 0, 3 ],
      "count": 10 }],
    "meas_freq_params": [{
      "offset": -90,
      "db": true,
      "log_timeout": 90,
      "freqs": [ 10e6, 20e6, 30e6, 40e6, 50e6, 59e6, 70e6 ],
      "voltages": [ 0.1, 0.3, 0.8 ],
      "splitmodes": [ 0, 1 ],
      "count": 10 }],
    "volt_ramp_up_off_start": [ 31.0 ],
    "volt_ramp_up_off": { "volt_start": 31.0,
			  "volt_end": 33.0,
			  "volt_step": 0.1,
			  "time_step": 2.0,
			  "start": false },
    "volt_ramp_down_on": { "volt_start": 33.0,
			   "volt_end": 30.0,
			   "volt_step": 0.2,
			   "time_step": 4.0,
			   "start": true },
    "volt_ramp_down_off_start": [ 21.0 ],
    "volt_ramp_down_off": { "volt_start": 21.0,
			    "volt_end": 19.0,
			    "volt_step": 0.1,
			    "time_step": 2.0,
			    "start": false },
    "volt_ramp_up_on": { "volt_start": 19.0,
			 "volt_end": 22.0,
			 "volt_step": 0.2,
			 "time_step": 4.0,
			 "start": true },
    "timer_sc_1": [{ "offset": 0,
		     "recs": [[ "meas.sc", "periodic", "meas.sc",
				null, [1.0]]]}],
    "timer_sc_30": [{ "offset": 0,
		      "recs": [[ "meas.sc", "periodic", "meas.sc",
				 null, [30.0]]]}]
  },
  "progno": 7,
  "load": true,
  "title": "Combo burnin + ESS",
  "stop_manual": true,
  "temperature": 20.0,
  "anticond": false,
  "program": [
    { "duration": 90,
      "timer": "timer_sc_1",
      "power": [{ "offset": 0, "pcon": null, "pccheck": 80, "splitter": false }],
      "eval": [{ "offset": 0, "message": "Powering UUBs on for check"},
	       { "offset": 81, "checkISN": 0 },
	       { "offset": 83, "orderUUB": true }]},
    { "duration": 90,
      "power": [{ "offset": 0, "pcon": null, "pccheck": 80 },
	        { "offset": -1, "splitter": true }],
      "eval": [{ "offset": 0, "message": "Powering UUBs on for test"}],
      "telnet": [{ "offset": -5, "cmds": "uubinit_cmds" }]},

    { "duration": 180,
      "timer": "timer_sc_30",
      "eval": [{ "offset": 0, "message": "Plateau at 20 deg.C, measurement in 1:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params" },

    { "duration": 600,
      "eval": [{ "offset": 0, "message": "Ramp down to -20 deg.C (10:00)"}],
      "temperature": -20},
      
    { "duration": 360,
      "startcycle": 23,
      "eval": [{ "offset": 0, "message": "Plateau at -20 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params"},

    { "duration": 600,
      "eval": [{ "offset": 0, "message": "Ramp up to 70 deg.C (22:30)"}],
      "temperature": 20,
      "anticond": true},
    { "duration": 750,
      "anticond": false,
      "temperature": 70},

    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 70 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params"},

    { "duration": 1530,
      "endcycle": true,
      "eval": [{ "offset": 0, "message": "Ramp down to -20 deg.C (25:30)"}],
      "temperature": -20},

    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at -20 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params"},

    { "duration": 600,
      "anticond": true,
      "eval": [{ "offset": 0, "message": "Ramp up to 20 deg.C (10:00)"}],
      "temperature": 20},

    { "duration": 360,
      "anticond": false,
      "eval": [{ "offset": 0, "message": "Plateau at 20 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 400,
      "startcycle": 9,
      "eval": [{ "offset": 0, "message": "Ramp down to 0 deg.C (6:40)"}],
      "temperature": 0},
    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 0 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 400,
      "eval": [{ "offset": 0, "message": "Ramp down to -20 deg.C (6:40)"}],
      "temperature": -20 },
    { "duration": 900,
      "eval": [{ "offset": 0, "message": "Plateau at -20 deg.C, measurement in 13:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 400,
      "eval": [{ "offset": 0, "message": "Ramp up to 0 deg.C (6:40)"}],
      "temperature": 0,
      "anticond": true },
    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 0 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 400,
      "eval": [{ "offset": 0, "message": "Ramp up to 20 deg.C (6:40)"}],
      "temperature": 20 },
    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 20 deg.C, measurement in 4:30"}],
      "anticond": false,
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 500,
      "eval": [{ "offset": 0, "message": "Ramp up to 45 deg.C (8:20)"}],
      "temperature": 45},
    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 45 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 500,
      "eval": [{ "offset": 0, "message": "Ramp up to 70 deg.C (8:20)"}],
      "temperature": 70 },
    { "duration": 900,
      "eval": [{ "offset": 0, "message": "Plateau at 70 deg.C, measurement in 13:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 500,
      "eval": [{ "offset": 0, "message": "Ramp down to 45 deg.C (8:20)"}],
      "temperature": 45 },
    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 45 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 500,
      "eval": [{ "offset": 0, "message": "Ramp down to 20 deg.C (8:20)"}],
      "temperature": 20 },
    { "duration": 360,
      "endcycle": true,
      "eval": [{ "offset": 0, "message": "Plateau at 20 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 400,
      "eval": [{ "offset": 0, "message": "Ramp down to 0 deg.C (6:40)"}],
      "temperature": 0},
    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 0 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 400,
      "eval": [{ "offset": 0, "message": "Ramp down to -20 deg.C (6:40)"}],
      "temperature": -20 },
    { "duration": 900,
      "eval": [{ "offset": 0, "message": "Plateau at -20 deg.C, measurement in 13:30"}],
      "power": [{ "offset": -120, "rz_tout": 5, "pczero": true },
		{ "offset": -60, "pccalib": true },
		{ "offset": -1, "pccalib": true }],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 60,
      "timer": "timer_sc_1",
      "eval": [{ "offset": 0, "message":
		 "Voltage ramp upto 33 V, expecting UUBs switch off (1:00)"}],
      "power": [{ "offset": 0, "ch0": "volt_ramp_up_off_start" },
		{ "offset": 5, "pccheck": 45,
		  "volt_ramp": "volt_ramp_up_off" },
		{ "offset": -5, "pcoff": null },
		{ "offset": -1, "pcon": null }]},
    { "duration": 120,
      "eval": [{ "offset": 0, "message":
		 "Voltage ramp down, expecting UUBs switch on (2:00)"}],
      "power": [{ "offset": 0, "pccheck": 104, "splitter": false,
		  "volt_ramp": "volt_ramp_down_on" },
		{ "offset": 105, "ch0": [24.0 ]}]},
    { "duration": 60,
      "eval": [{ "offset": 0, "message":
		 "Voltage ramp downto 19 V, expecting UUBs switch off (1:00)"}],
      "power": [{ "offset": 0, "ch0": "volt_ramp_down_off_start" },
		{ "offset": 5, "pccheck": 45,
		  "volt_ramp": "volt_ramp_down_off" },
		{ "offset": -5, "pcoff": null },
		{ "offset": -1, "pcon": null }]},
    { "duration": 120,
      "eval": [{ "offset": 0, "message": "Voltage ramp up, expecting UUBs switch on (2:00)"}],
      "power": [{ "offset": 0, "pccheck": 104,
		  "volt_ramp": "volt_ramp_up_on" },
		{ "offset": 105, "ch0": [24.0 ] },
		{ "offset": -5, "rz_tout": null, "splitter": true }],
      "telnet": [{ "offset": -1, "cmds": "uubinit_cmds" }]},

    { "duration": 400,
      "timer": "timer_sc_30",
      "eval": [{ "offset": 0, "message": "Ramp up to 0 deg.C (6:40)"}],
      "temperature": 0,
      "anticond": true },
    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 0 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 400,
      "eval": [{ "offset": 0, "message": "Ramp up to 20 deg.C (6:40)"}],
      "temperature": 20 },
    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 20 deg.C, measurement in 4:30"}],
      "anticond": false,
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 500,
      "eval": [{ "offset": 0, "message": "Ramp up to 45 deg.C (8:20)"}],
      "temperature": 45},
    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 45 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 500,
      "eval": [{ "offset": 0, "message": "Ramp up to 70 deg.C (8:20)"}],
      "temperature": 70 },
    { "duration": 900,
      "eval": [{ "offset": 0, "message": "Plateau at 70 deg.C, measurement in 13:30"}],
      "power": [{ "offset": -120, "rz_tout": 5, "pccalib": true },
		{ "offset": -60, "pccalib": true },
		{ "offset": -1, "pccalib": true }],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 60,
      "timer": "timer_sc_1",
      "eval": [{ "offset": 0, "message":
		 "Voltage ramp upto 33 V, expecting UUBs switch off (1:00)"}],
      "power": [{ "offset": 0, "ch0": "volt_ramp_up_off_start" },
		{ "offset": 5, "pccheck": 45,
		  "volt_ramp": "volt_ramp_up_off" },
		{ "offset": -5, "pcoff": null },
		{ "offset": -1, "pcon": null }]},
    { "duration": 120,
      "eval": [{ "offset": 0, "message":
		 "Voltage ramp down, expecting UUBs switch on (2:00)"}],
      "power": [{ "offset": 0, "pccheck": 104, "splitter": false,
		  "volt_ramp": "volt_ramp_down_on" },
		{ "offset": 105, "ch0": [24.0 ]}]},
    { "duration": 60,
      "eval": [{ "offset": 0, "message":
		 "Voltage ramp downto 19 V, expecting UUBs switch off (1:00)"}],
      "power": [{ "offset": 0, "ch0": "volt_ramp_down_off_start" },
		{ "offset": 5, "pccheck": 45,
		  "volt_ramp": "volt_ramp_down_off" },
		{ "offset": -5, "pcoff": null },
		{ "offset": -1, "pcon": null }]},
    { "duration": 120,
      "eval": [{ "offset": 0, "message": "Voltage ramp up, expecting UUBs switch on (2:00)"}],
      "power": [{ "offset": 0, "pccheck": 104,
		  "volt_ramp": "volt_ramp_up_on" },
		{ "offset": 105, "ch0": [24.0 ] },
		{ "offset": -5, "rz_tout": null, "splitter": true }],
      "telnet": [{ "offset": -1, "cmds": "uubinit_cmds" }]},

    { "duration": 500,
      "timer": "timer_sc_30",
      "eval": [{ "offset": 0, "message": "Ramp down to 45 deg.C (8:20)"}],
      "temperature": 45 },
    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 45 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 60,
      "timer": "timer_sc_1",
      "eval": [{ "offset": 0, "message":
		 "Voltage ramp upto 33 V, expecting UUBs switch off (1:00)"}],
      "power": [{ "offset": 0, "ch0": "volt_ramp_up_off_start" },
		{ "offset": 5, "pccheck": 45,
		  "volt_ramp": "volt_ramp_up_off" },
		{ "offset": -5, "pcoff": null },
		{ "offset": -1, "pcon": null }]},
    { "duration": 120,
      "eval": [{ "offset": 0, "message":
		 "Voltage ramp down, expecting UUBs switch on (2:00)"}],
      "power": [{ "offset": 0, "pccheck": 104, "splitter": false,
		  "volt_ramp": "volt_ramp_down_on" },
		{ "offset": 105, "ch0": [24.0 ]}]},
    { "duration": 60,
      "eval": [{ "offset": 0, "message":
		 "Voltage ramp downto 19 V, expecting UUBs switch off (1:00)"}],
      "power": [{ "offset": 0, "ch0": "volt_ramp_down_off_start" },
		{ "offset": 5, "pccheck": 45,
		  "volt_ramp": "volt_ramp_down_off" },
		{ "offset": -5, "pcoff": null },
		{ "offset": -1, "pcon": null }]},
    { "duration": 120,
      "eval": [{ "offset": 0, "message": "Voltage ramp up, expecting UUBs switch on (2:00)"}],
      "power": [{ "offset": 0, "pccheck": 104,
		  "volt_ramp": "volt_ramp_up_on" },
		{ "offset": 105, "ch0": [24.0 ] },
		{ "offset": -5, "rz_tout": null, "splitter": true }],
      "telnet": [{ "offset": -1, "cmds": "uubinit_cmds" }]},

    { "duration": 500,
      "eval": [{ "offset": 0, "message": "Ramp down to 20 deg.C (8:20)"}],
      "temperature": 20 },
    { "duration": 360,
      "eval": [{ "offset": 0, "message": "Plateau at 20 deg.C, measurement in 4:30"}],
      "meas.ramp": "meas_ramp_params",
      "meas.noise": "meas_noise_params",
      "meas.pulse": "meas_pulse_params",
      "meas.freq": "meas_freq_params" },

    { "duration": 30,
      "power": [{ "offset": -1, "pcoff": true }]},

    { "stop": 30 }
  ]
}
